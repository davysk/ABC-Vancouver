{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:////Users/spencerfinnell/dev/wpsimplepay/wp-content/plugins/wp-simple-pay-pro/node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:////Users/spencerfinnell/dev/wpsimplepay/wp-content/plugins/wp-simple-pay-pro/node_modules/@babel/runtime/helpers/defineProperty.js","webpack:////Users/spencerfinnell/dev/wpsimplepay/wp-content/plugins/wp-simple-pay-pro/node_modules/@babel/runtime/regenerator/index.js","webpack:////Users/spencerfinnell/dev/wpsimplepay/wp-content/plugins/wp-simple-pay-pro/node_modules/@wordpress/dom-ready/build-module/index.js","webpack:////Users/spencerfinnell/dev/wpsimplepay/wp-content/plugins/wp-simple-pay-pro/node_modules/form-serialize/index.js","webpack:////Users/spencerfinnell/dev/wpsimplepay/wp-content/plugins/wp-simple-pay-pro/node_modules/regenerator-runtime/runtime.js","webpack:////Users/spencerfinnell/dev/wpsimplepay/wp-content/plugins/wp-simple-pay-pro/includes/core/assets/js/packages/api/src/api-request.js","webpack:////Users/spencerfinnell/dev/wpsimplepay/wp-content/plugins/wp-simple-pay-pro/includes/core/assets/js/packages/api/src/customers.js","webpack:////Users/spencerfinnell/dev/wpsimplepay/wp-content/plugins/wp-simple-pay-pro/includes/core/assets/js/packages/api/src/index.js","webpack:////Users/spencerfinnell/dev/wpsimplepay/wp-content/plugins/wp-simple-pay-pro/includes/core/assets/js/packages/api/src/paymentintents.js","webpack:////Users/spencerfinnell/dev/wpsimplepay/wp-content/plugins/wp-simple-pay-pro/includes/core/assets/js/packages/api/src/sessions.js","webpack:////Users/spencerfinnell/dev/wpsimplepay/wp-content/plugins/wp-simple-pay-pro/includes/core/assets/js/packages/api/src/setupintents.js","webpack:////Users/spencerfinnell/dev/wpsimplepay/wp-content/plugins/wp-simple-pay-pro/includes/core/assets/js/packages/api/src/subscriptions.js","webpack:///./js/frontend/payment-forms/stripe-elements/disable.js","webpack:///./js/frontend/payment-forms/stripe-elements/error.js","webpack:///./js/frontend/payment-forms/stripe-elements/utils.js","webpack:///./js/frontend/update-payment-method.js","webpack:///external \"jQuery\""],"names":["apiRequest","route","data","jQuery","ajax","method","url","wpApiSettings","root","beforeSend","xhr","setRequestHeader","nonce","responseJSON","create","paymentForm","id","state","__unstableLegacyFormData","form_values","serialize","hash","form_data","JSON","stringify","form_id","updatePaymentMethod","customerId","customerNonce","subscriptionId","formId","args","customer_nonce","disable","checkoutButtonLoadingText","addClass","find","prop","html","error","_error","enableForm","enable","stripeErrorMessages","unknownError","errorMessage","undefined","message","code","ELEMENTS_DEFAULT_STYLE","base","color","fontFamily","fontSize","fontSmoothing","fontWeight","invalid","iconColor","getElementStyle","spFormElem","cardEl","document","getElementById","styleTag","createElement","input","querySelector","innerHTML","body","appendChild","inputStyles","window","getComputedStyle","placeholderStyles","trbl","map","dir","getPropertyValue","corners","corner","join","getAddressData","addressContainer","line1","city","postal_code","country","Object","keys","reduce","address","key","value","getOwnerData","form","name","email","phone","billingAddress","shippingAddress","billingAddressContainer","sharedAddresses","checked","shippingAddressContainer","getPaymentMethod","wpsp","paymentForms","setupAchDirectDebit","achDebitEl","submitEl","onError","disableForm","setState","stripe","stripeInstance","simpayUpdatePaymentMethod","customer_setupintent_nonce","addEventListener","e","preventDefault","setupintents","customer_id","payment_method_types","catch","clientSecret","client_secret","collectBankAccountForSetup","params","payment_method_type","payment_method_data","billing_details","setupIntent","status","paymentMethodId","payment_method","style","display","createPaymentMethod","card","elements","type","then","result","paymentMethod","confirmSepaDebitSetup","sepa_debit","sepaDebit","setup","formEl","subscription_id","subscriptionKey","subscription_key","updateNonce","i18n","simplePayForms","config","bools","strings","formI18n","paymentMethods","formDisplayType","loading","checkoutButtonText","submit","stripeParams","isTestMode","companyName","extend","_","first","Stripe","updatedState","removeClass","text","bind","onBaseDisable","onBaseError","forEach","paymentMethodToggleEl","findWhere","selectedPaymentMethod","subscriptions","payment_method_id","_wpnonce","updateError","location","replace","href","domReady"],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA,iH;;;;;;;;;;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;;AAEA;AACA;;AAEA,+G;;;;;;;;;;;ACfA,iBAAiB,mBAAO,CAAC,iFAAqB;;;;;;;;;;;;;ACA9C;AAAA;AAAA;AACA,aAAa,WAAW;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,YAAY;AACZ;AACe;AACf;AACA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA,iC;;;;;;;;;;;ACxCA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;;AAEA,oCAAoC;AACpC;;AAEA;;AAEA;AACA;;AAEA,kBAAkB,oBAAoB;AACtC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,0BAA0B,yBAAyB;AACnD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACnQA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,aAAa;AACb,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,KAAK;AACL,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;;AAEA;AACA;AACA,wCAAwC,WAAW;AACnD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;;AAEA;;AAEA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC,cAAc;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iCAAiC,kBAAkB;AACnD;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA,iBAAiB;;AAEjB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,YAAY;AACZ;AACA;;AAEA;AACA,YAAY;AACZ;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,8CAA8C,QAAQ;AACtD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;;AAEA,WAAW;AACX;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,CAAC;AACD;AACA;AACA;AACA;AACA,EAAE,KAA0B,oBAAoB,SAAE;AAClD;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;ACjvBA;;AAEA;AACA;AA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","file":"simpay-public-pro-update-payment-method.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./js/frontend/update-payment-method.js\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","module.exports = require(\"regenerator-runtime\");\n","/**\n * @typedef {() => void} Callback\n *\n * TODO: Remove this typedef and inline `() => void` type.\n *\n * This typedef is used so that a descriptive type is provided in our\n * automatically generated documentation.\n *\n * An in-line type `() => void` would be preferable, but the generated\n * documentation is `null` in that case.\n *\n * @see https://github.com/WordPress/gutenberg/issues/18045\n */\n\n/**\n * Specify a function to execute when the DOM is fully loaded.\n *\n * @param {Callback} callback A function to execute after the DOM is ready.\n *\n * @example\n * ```js\n * import domReady from '@wordpress/dom-ready';\n *\n * domReady( function() {\n * \t//do something after DOM loads.\n * } );\n * ```\n *\n * @return {void}\n */\nexport default function domReady(callback) {\n  if (document.readyState === 'complete' || // DOMContentLoaded + Images/Styles/etc loaded, so we call directly.\n  document.readyState === 'interactive' // DOMContentLoaded fires at this point, so we call directly.\n  ) {\n      return void callback();\n    } // DOMContentLoaded has not fired yet, delay callback until then.\n\n\n  document.addEventListener('DOMContentLoaded', callback);\n}\n//# sourceMappingURL=index.js.map","// get successful control from form and assemble into object\n// http://www.w3.org/TR/html401/interact/forms.html#h-17.13.2\n\n// types which indicate a submit action and are not successful controls\n// these will be ignored\nvar k_r_submitter = /^(?:submit|button|image|reset|file)$/i;\n\n// node names which could be successful controls\nvar k_r_success_contrls = /^(?:input|select|textarea|keygen)/i;\n\n// Matches bracket notation.\nvar brackets = /(\\[[^\\[\\]]*\\])/g;\n\n// serializes form fields\n// @param form MUST be an HTMLForm element\n// @param options is an optional argument to configure the serialization. Default output\n// with no options specified is a url encoded string\n//    - hash: [true | false] Configure the output type. If true, the output will\n//    be a js object.\n//    - serializer: [function] Optional serializer function to override the default one.\n//    The function takes 3 arguments (result, key, value) and should return new result\n//    hash and url encoded str serializers are provided with this module\n//    - disabled: [true | false]. If true serialize disabled fields.\n//    - empty: [true | false]. If true serialize empty fields\nfunction serialize(form, options) {\n    if (typeof options != 'object') {\n        options = { hash: !!options };\n    }\n    else if (options.hash === undefined) {\n        options.hash = true;\n    }\n\n    var result = (options.hash) ? {} : '';\n    var serializer = options.serializer || ((options.hash) ? hash_serializer : str_serialize);\n\n    var elements = form && form.elements ? form.elements : [];\n\n    //Object store each radio and set if it's empty or not\n    var radio_store = Object.create(null);\n\n    for (var i=0 ; i<elements.length ; ++i) {\n        var element = elements[i];\n\n        // ingore disabled fields\n        if ((!options.disabled && element.disabled) || !element.name) {\n            continue;\n        }\n        // ignore anyhting that is not considered a success field\n        if (!k_r_success_contrls.test(element.nodeName) ||\n            k_r_submitter.test(element.type)) {\n            continue;\n        }\n\n        var key = element.name;\n        var val = element.value;\n\n        // we can't just use element.value for checkboxes cause some browsers lie to us\n        // they say \"on\" for value when the box isn't checked\n        if ((element.type === 'checkbox' || element.type === 'radio') && !element.checked) {\n            val = undefined;\n        }\n\n        // If we want empty elements\n        if (options.empty) {\n            // for checkbox\n            if (element.type === 'checkbox' && !element.checked) {\n                val = '';\n            }\n\n            // for radio\n            if (element.type === 'radio') {\n                if (!radio_store[element.name] && !element.checked) {\n                    radio_store[element.name] = false;\n                }\n                else if (element.checked) {\n                    radio_store[element.name] = true;\n                }\n            }\n\n            // if options empty is true, continue only if its radio\n            if (val == undefined && element.type == 'radio') {\n                continue;\n            }\n        }\n        else {\n            // value-less fields are ignored unless options.empty is true\n            if (!val) {\n                continue;\n            }\n        }\n\n        // multi select boxes\n        if (element.type === 'select-multiple') {\n            val = [];\n\n            var selectOptions = element.options;\n            var isSelectedOptions = false;\n            for (var j=0 ; j<selectOptions.length ; ++j) {\n                var option = selectOptions[j];\n                var allowedEmpty = options.empty && !option.value;\n                var hasValue = (option.value || allowedEmpty);\n                if (option.selected && hasValue) {\n                    isSelectedOptions = true;\n\n                    // If using a hash serializer be sure to add the\n                    // correct notation for an array in the multi-select\n                    // context. Here the name attribute on the select element\n                    // might be missing the trailing bracket pair. Both names\n                    // \"foo\" and \"foo[]\" should be arrays.\n                    if (options.hash && key.slice(key.length - 2) !== '[]') {\n                        result = serializer(result, key + '[]', option.value);\n                    }\n                    else {\n                        result = serializer(result, key, option.value);\n                    }\n                }\n            }\n\n            // Serialize if no selected options and options.empty is true\n            if (!isSelectedOptions && options.empty) {\n                result = serializer(result, key, '');\n            }\n\n            continue;\n        }\n\n        result = serializer(result, key, val);\n    }\n\n    // Check for all empty radio buttons and serialize them with key=\"\"\n    if (options.empty) {\n        for (var key in radio_store) {\n            if (!radio_store[key]) {\n                result = serializer(result, key, '');\n            }\n        }\n    }\n\n    return result;\n}\n\nfunction parse_keys(string) {\n    var keys = [];\n    var prefix = /^([^\\[\\]]*)/;\n    var children = new RegExp(brackets);\n    var match = prefix.exec(string);\n\n    if (match[1]) {\n        keys.push(match[1]);\n    }\n\n    while ((match = children.exec(string)) !== null) {\n        keys.push(match[1]);\n    }\n\n    return keys;\n}\n\nfunction hash_assign(result, keys, value) {\n    if (keys.length === 0) {\n        result = value;\n        return result;\n    }\n\n    var key = keys.shift();\n    var between = key.match(/^\\[(.+?)\\]$/);\n\n    if (key === '[]') {\n        result = result || [];\n\n        if (Array.isArray(result)) {\n            result.push(hash_assign(null, keys, value));\n        }\n        else {\n            // This might be the result of bad name attributes like \"[][foo]\",\n            // in this case the original `result` object will already be\n            // assigned to an object literal. Rather than coerce the object to\n            // an array, or cause an exception the attribute \"_values\" is\n            // assigned as an array.\n            result._values = result._values || [];\n            result._values.push(hash_assign(null, keys, value));\n        }\n\n        return result;\n    }\n\n    // Key is an attribute name and can be assigned directly.\n    if (!between) {\n        result[key] = hash_assign(result[key], keys, value);\n    }\n    else {\n        var string = between[1];\n        // +var converts the variable into a number\n        // better than parseInt because it doesn't truncate away trailing\n        // letters and actually fails if whole thing is not a number\n        var index = +string;\n\n        // If the characters between the brackets is not a number it is an\n        // attribute name and can be assigned directly.\n        if (isNaN(index)) {\n            result = result || {};\n            result[string] = hash_assign(result[string], keys, value);\n        }\n        else {\n            result = result || [];\n            result[index] = hash_assign(result[index], keys, value);\n        }\n    }\n\n    return result;\n}\n\n// Object/hash encoding serializer.\nfunction hash_serializer(result, key, value) {\n    var matches = key.match(brackets);\n\n    // Has brackets? Use the recursive assignment function to walk the keys,\n    // construct any missing objects in the result tree and make the assignment\n    // at the end of the chain.\n    if (matches) {\n        var keys = parse_keys(key);\n        hash_assign(result, keys, value);\n    }\n    else {\n        // Non bracket notation can make assignments directly.\n        var existing = result[key];\n\n        // If the value has been assigned already (for instance when a radio and\n        // a checkbox have the same name attribute) convert the previous value\n        // into an array before pushing into it.\n        //\n        // NOTE: If this requirement were removed all hash creation and\n        // assignment could go through `hash_assign`.\n        if (existing) {\n            if (!Array.isArray(existing)) {\n                result[key] = [ existing ];\n            }\n\n            result[key].push(value);\n        }\n        else {\n            result[key] = value;\n        }\n    }\n\n    return result;\n}\n\n// urlform encoding serializer\nfunction str_serialize(result, key, value) {\n    // encode newlines as \\r\\n cause the html spec says so\n    value = value.replace(/(\\r)?\\n/g, '\\r\\n');\n    value = encodeURIComponent(value);\n\n    // spaces should be '+' rather than '%20'.\n    value = value.replace(/%20/g, '+');\n    return result + (result ? '&' : '') + encodeURIComponent(key) + '=' + value;\n}\n\nmodule.exports = serialize;\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","/* global jQuery, wpApiSettings */\n\n/**\n * Make an API request to the REST API.\n *\n * @param {string} route REST route.\n * @param {Object} data Data to send to the request.\n * @return {jqXHR} jQuery XMLHttpRequest object.\n */\nexport async function apiRequest( route, data ) {\n\ttry {\n\t\treturn await jQuery.ajax( {\n\t\t\tdata,\n\t\t\tmethod: 'POST',\n\t\t\turl: `${ wpApiSettings.root }wpsp/${ route }`,\n\t\t\tbeforeSend: ( xhr ) => {\n\t\t\t\txhr.setRequestHeader( 'X-WP-Nonce', wpApiSettings.nonce );\n\t\t\t},\n\t\t} );\n\t} catch ( { responseJSON } ) {\n\t\tthrow responseJSON;\n\t}\n}\n","/**\n * External dependencies.\n */\nimport serialize from 'form-serialize';\n\n/**\n * Internal dependencies.\n */\nimport { apiRequest } from './api-request.js';\n\n/** @typedef {import('@wpsimplepay/payment-forms').PaymentForm} PaymentForm */\n\n/**\n * Creates a Customer.\n *\n * @since 4.2.0\n *\n * @param {Object} data Data to pass to REST endpoint.\n * @param {PaymentForm} paymentForm\n * @return {jqXHR} jQuery XMLHttpRequest object.\n */\nexport function create( data = {}, paymentForm ) {\n\tconst { id, state, __unstableLegacyFormData } = paymentForm;\n\n\treturn apiRequest( 'v2/customer', {\n\t\tform_values: serialize( paymentForm[ 0 ], { hash: true } ),\n\t\tform_data: JSON.stringify( {\n\t\t\t...__unstableLegacyFormData,\n\t\t\t...state,\n\t\t} ),\n\t\tform_id: id,\n\t\t...data,\n\t} );\n}\n","export * from './api-request.js';\n\nexport * as customers from './customers.js';\nexport * as paymentintents from './paymentintents.js';\nexport * as sessions from './sessions.js';\nexport * as setupintents from './setupintents.js';\nexport * as subscriptions from './subscriptions.js';\n","/**\n * External dependencies.\n */\nimport serialize from 'form-serialize';\n\n/**\n * Internal dependencies.\n */\nimport { apiRequest } from './api-request.js';\n\n/** @typedef {import('@wpsimplepay/payment-forms').PaymentForm} PaymentForm */\n\n/**\n * Creates a PaymentIntent.\n *\n * @since 4.2.0\n *\n * @param {Object} data Data to pass to REST endpoint.\n * @param {PaymentForm} paymentForm\n * @return {jqXHR} jQuery XMLHttpRequest object.\n */\nexport function create( data = {}, paymentForm ) {\n\tconst { id, state, __unstableLegacyFormData } = paymentForm;\n\n\treturn apiRequest( 'v2/paymentintent/create', {\n\t\tform_values: serialize( paymentForm[ 0 ], { hash: true } ),\n\t\tform_data: JSON.stringify( {\n\t\t\t...__unstableLegacyFormData,\n\t\t\t...state,\n\t\t} ),\n\t\tform_id: id,\n\t\t...data,\n\t} );\n}\n","/**\n * External dependencies.\n */\nimport serialize from 'form-serialize';\n\n/**\n * Internal dependencies.\n */\nimport { apiRequest } from './api-request.js';\n\n/** @typedef {import('@wpsimplepay/payment-forms').PaymentForm} PaymentForm */\n\n/**\n * Creates a Checkout Session.\n *\n * @since 4.2.0\n *\n * @param {Object} data Data to pass to REST endpoint.\n * @param {PaymentForm} paymentForm\n * @return {jqXHR} jQuery XMLHttpRequest object.\n */\nexport function create( data = {}, paymentForm ) {\n\tconst { id, state, __unstableLegacyFormData } = paymentForm;\n\n\treturn apiRequest( 'v2/checkout-session', {\n\t\tform_values: serialize( paymentForm[ 0 ], { hash: true } ),\n\t\tform_data: JSON.stringify( {\n\t\t\t...__unstableLegacyFormData,\n\t\t\t...state,\n\t\t} ),\n\t\tform_id: id,\n\t\t...data,\n\t} );\n}\n","/**\n * External dependencies.\n */\nimport serialize from 'form-serialize';\n\n/**\n * Internal dependencies.\n */\nimport { apiRequest } from './api-request.js';\n\n/** @typedef {import('@wpsimplepay/payment-forms').PaymentForm} PaymentForm */\n\n/**\n * Creates a SetupIntent.\n *\n * @since 4.2.0\n *\n * @param {Object} data Data to pass to REST endpoint.\n * @param {PaymentForm} paymentForm\n * @return {jqXHR} jQuery XMLHttpRequest object.\n */\nexport function create( data = {}, paymentForm ) {\n\tconst { id, state } = paymentForm;\n\n\treturn apiRequest( 'v2/setupintent/create', {\n\t\tform_values: serialize( paymentForm[ 0 ], { hash: true } ),\n\t\tform_data: JSON.stringify( state ),\n\t\tform_id: id,\n\t\t...data,\n\t} );\n}\n","/**\n * External dependencies.\n */\nimport serialize from 'form-serialize';\n\n/**\n * Internal dependencies.\n */\nimport { apiRequest } from './api-request.js';\n\n/** @typedef {import('@wpsimplepay/payment-forms').PaymentForm} PaymentForm */\n\n/**\n * Creates a Subscription.\n *\n * @since 4.2.0\n *\n * @param {Object} data Data to pass to REST endpoint.\n * @param {PaymentForm} paymentForm\n * @return {jqXHR} jQuery XMLHttpRequest object.\n */\nexport function create( data = {}, paymentForm ) {\n\tconst { id, state, __unstableLegacyFormData } = paymentForm;\n\n\treturn apiRequest( 'v2/subscription', {\n\t\tform_values: serialize( paymentForm[ 0 ], { hash: true } ),\n\t\tform_data: JSON.stringify( {\n\t\t\t...__unstableLegacyFormData,\n\t\t\t...state,\n\t\t} ),\n\t\tform_id: id,\n\t\t...data,\n\t} );\n}\n\n/**\n * Update a Subscription's payment method.\n *\n * Requires a Subscription's key and linked Customer for verification.\n * Takes direct arguments vs. spFormElem and full form data.\n *\n * @param {number} customerId ID of the Customer.\n * @param {string} customerNonce Customer nonce.\n * @param {string} subscriptionId ID of the Subscription.\n * @param {number} formId ID of the Payment Form.\n * @param {Object} args {\n * @return {Promise} AJAX promise.\n */\nexport function updatePaymentMethod(\n\tcustomerId,\n\tcustomerNonce,\n\tsubscriptionId,\n\tformId,\n\targs\n) {\n\treturn apiRequest(\n\t\t`v2/subscription/payment_method/${ subscriptionId }/${ customerId }`,\n\t\t{\n\t\t\tcustomer_nonce: customerNonce,\n\t\t\tform_values: args,\n\t\t\tform_id: formId,\n\t\t}\n\t);\n}\n","/** @typedef {import('@wpsimplepay/payment-forms').PaymentForm} PaymentForm */\n\n/**\n * Disable the Payment Form.\n *\n * @since 4.2.0\n *\n * @param {PaymentForm} paymentForm\n */\nfunction disable( paymentForm ) {\n\tconst { __unstableLegacyFormData } = paymentForm;\n\tconst { checkoutButtonLoadingText } = __unstableLegacyFormData;\n\n\t// Add a loading class indicator.\n\tpaymentForm.addClass( 'simpay-checkout-form--loading' );\n\n\t// Disable the form submit button.\n\tpaymentForm\n\t\t.find( '.simpay-checkout-btn' )\n\t\t.prop( 'disabled', true )\n\t\t.addClass( 'simpay-disabled' )\n\t\t.find( 'span' )\n\t\t.html( checkoutButtonLoadingText );\n}\n\nexport default disable;\n","/** @typedef {import('@wpsimplepay/payment-forms').PaymentForm} PaymentForm */\n\n/**\n * Display an error message below the Payment Form.\n *\n * @since 4.2.0\n *\n * @param {PaymentForm} paymentForm\n * @param {Object|string} _error Error message or object.\n */\nfunction error( paymentForm, _error ) {\n\tconst { enable: enableForm, __unstableLegacyFormData } = paymentForm;\n\tconst { stripeErrorMessages, unknownError } = __unstableLegacyFormData;\n\n\tlet errorMessage;\n\n\t// Passed empty to clear the error.\n\tif ( _error && '' === _error ) {\n\t\terrorMessage = '';\n\n\t\t// Error is not undefined.\n\t} else if ( undefined !== _error ) {\n\t\tconst { message, code } = _error;\n\t\terrorMessage = message ? message : _error;\n\n\t\t// Use localized message if code exists.\n\t\tif ( code && stripeErrorMessages[ code ] ) {\n\t\t\terrorMessage = stripeErrorMessages[ code ];\n\t\t}\n\n\t\t// Unable to determine error.\n\t} else {\n\t\terrorMessage = unknownError;\n\t}\n\n\t// Show message in UI.\n\tpaymentForm.find( '.simpay-errors' ).html( errorMessage );\n\n\t// Enable form.\n\tenableForm();\n}\n\nexport default error;\n","/** @typedef {import('@wpsimplepay/payment-forms').PaymentForm} PaymentForm */\n\nconst ELEMENTS_DEFAULT_STYLE = {\n\tbase: {\n\t\tcolor: '#32325d',\n\t\tfontFamily:\n\t\t\t'-apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji',\n\t\tfontSize: '15px',\n\t\tfontSmoothing: 'antialiased',\n\t\tfontWeight: 'normal',\n\n\t\t'::placeholder': {\n\t\t\tcolor: '#aab7c4',\n\t\t},\n\t},\n\tinvalid: {\n\t\tcolor: '#fa755a',\n\t\ticonColor: '#fa755a',\n\t},\n};\n\n/**\n * Gets Element styles based on an existing form input.\n *\n * Injects supplementary styles for the wrapper element.\n *\n * @param {jQuery} spFormElem Form element jQuery object.\n * @param cardEl\n * @return {Object} Element style information.\n */\nexport function getElementStyle( spFormElem, cardEl ) {\n\t// Do nothing if an Element has already been styled;\n\tif ( document.getElementById( 'simpay-stripe-element-styles' ) ) {\n\t\treturn ELEMENTS_DEFAULT_STYLE;\n\t}\n\n\t// Inject inline CSS instead of applying to the Element so it can be overwritten.\n\tconst styleTag = document.createElement( 'style' );\n\tstyleTag.id = 'simpay-stripe-element-styles';\n\n\t// Try to mimick existing input styles.\n\tlet input;\n\n\tinput = document.querySelector( 'input.simpay-email' );\n\n\t// Try one more input in the main page content.\n\tif ( ! input ) {\n\t\tinput = document.querySelector(\n\t\t\t'body [role=\"main\"] input:not([type=\"hidden\"])'\n\t\t);\n\t}\n\n\t// Use default styles if no other input exists.\n\tif ( ! input ) {\n\t\tstyleTag.innerHTML = `.StripeElement.simpay-field-wrap {\n\t\t\tbackground: #fff;\n\t\t\tborder: 1px solid #d1d1d1;\n\t\t\tborder-radius: 4px;\n\t\t\tpadding: 0.4375em;\n\t\t\theight: 36px;\n\t\t\tmin-height: 36px;\n\t\t}`;\n\n\t\tdocument.body.appendChild( styleTag );\n\n\t\treturn ELEMENTS_DEFAULT_STYLE;\n\t}\n\tconst inputStyles = window.getComputedStyle( input );\n\tconst placeholderStyles = window.getComputedStyle( input, '::placeholder' );\n\n\tconst trbl = [ 'top', 'right', 'bottom', 'left' ].map(\n\t\t( dir ) =>\n\t\t\t`border-${ dir }-color: ${ inputStyles.getPropertyValue(\n\t\t\t\t`border-${ dir }-color`\n\t\t\t) };\n\t\t\tborder-${ dir }-width: ${ inputStyles.getPropertyValue(\n\t\t\t\t`border-${ dir }-width`\n\t\t\t) };\n\t\t\tborder-${ dir }-style: ${ inputStyles.getPropertyValue(\n\t\t\t\t`border-${ dir }-style`\n\t\t\t) };\n\t\t\tpadding-${ dir }: ${ inputStyles.getPropertyValue( `padding-${ dir }` ) };`\n\t);\n\n\tconst corners = [\n\t\t'top-right',\n\t\t'bottom-right',\n\t\t'bottom-left',\n\t\t'top-left',\n\t].map(\n\t\t( corner ) =>\n\t\t\t`border-${ corner }-radius: ${ inputStyles.getPropertyValue(\n\t\t\t\t`border-${ corner }-radius`\n\t\t\t) };`\n\t);\n\n\t// Generate longhand properties.\n\tstyleTag.innerHTML = `.StripeElement.simpay-field-wrap {\n\t\t\tbackground-color: ${ inputStyles.getPropertyValue( 'background-color' ) };\n\t\t\t${ trbl.join( '' ) }\n\t\t\t${ corners.join( '' ) }\n\t\t}`;\n\n\tdocument.body.appendChild( styleTag );\n\n\treturn {\n\t\tbase: {\n\t\t\tcolor: inputStyles.getPropertyValue( 'color' ),\n\t\t\tfontFamily: inputStyles.getPropertyValue( 'font-family' ),\n\t\t\tfontSize: inputStyles.getPropertyValue( 'font-size' ),\n\t\t\tfontWeight: inputStyles.getPropertyValue( 'font-weight' ),\n\t\t\tfontSmoothing: inputStyles.getPropertyValue(\n\t\t\t\t'-webkit-font-smoothing'\n\t\t\t),\n\t\t\t// This can't be fetched dynamically, unfortunately.\n\t\t\t'::placeholder': {\n\t\t\t\tcolor: '#c7c7c7',\n\t\t\t},\n\t\t},\n\t};\n}\n\n/**\n * Returns address data for a given address container element.\n *\n * @param {HTMLElement} addressContainer Address container to find the form elements in.\n * @return {Object} Address data.\n */\nfunction getAddressData( addressContainer ) {\n\tconst map = {\n\t\tline1: 'street',\n\t\tcity: 'city',\n\t\tstate: 'state',\n\t\tpostal_code: 'zip',\n\t\tcountry: 'country',\n\t};\n\n\treturn Object.keys( map ).reduce( ( address, key ) => {\n\t\treturn {\n\t\t\t...address,\n\t\t\t[ key ]:\n\t\t\t\taddressContainer.querySelector(\n\t\t\t\t\t`.simpay-address-${ map[ key ] }`\n\t\t\t\t)?.value || null,\n\t\t};\n\t}, {} );\n}\n\n/**\n * Finds the Payment Method's owner data in the Payment Form.\n *\n * @param {PaymentForm} paymentForm\n */\nexport function getOwnerData( paymentForm ) {\n\tconst form = paymentForm[ 0 ];\n\n\tconst name = form.querySelector( '.simpay-customer-name' )?.value || null;\n\tconst email = form.querySelector( '.simpay-email' )?.value || null;\n\tconst phone = form.querySelector( '.simpay-telephone' )?.value || null;\n\n\tlet billingAddress = null;\n\tlet shippingAddress = null;\n\n\tconst billingAddressContainer = form.querySelector(\n\t\t'.simpay-billing-address-container'\n\t);\n\n\tif ( billingAddressContainer ) {\n\t\tbillingAddress = getAddressData( billingAddressContainer );\n\t}\n\n\tconst sharedAddresses = form.querySelector( '.simpay-same-address-toggle' );\n\n\tif ( sharedAddresses && true === sharedAddresses.checked ) {\n\t\tshippingAddress = billingAddress;\n\t} else {\n\t\tconst shippingAddressContainer = form.querySelector(\n\t\t\t'.simpay-shipping-address-container'\n\t\t);\n\n\t\tif ( shippingAddressContainer ) {\n\t\t\tshippingAddress = getAddressData( shippingAddressContainer );\n\t\t}\n\t}\n\n\treturn {\n\t\tname,\n\t\temail,\n\t\tphone,\n\t\taddress: billingAddress,\n\t\tshippingAddress,\n\t};\n}\n","/* global simpayUpdatePaymentMethod, Stripe, jQuery, _ */\n\n/**\n * Bespoke handling of creating a new Payment Method and updating a Susbcription.\n *\n * Potentially this could be registered as another form type to handle, but for\n * the time being consists of mocking a faked Payment Form and doing some manual\n * processing. It pulls in some functionality from the Stripe Elements Payment Form type.\n */\n\n/**\n * WordPress dependencies\n */\nimport domReady from '@wordpress/dom-ready';\n\n/**\n * Internal dependencies.\n */\nimport { setupintents, subscriptions } from '@wpsimplepay/api';\nimport { default as onBaseError } from './payment-forms/stripe-elements/error.js';\nimport { default as onBaseDisable } from './payment-forms/stripe-elements/disable.js';\nimport {\n\tgetElementStyle,\n\tgetOwnerData,\n} from './payment-forms/stripe-elements/utils.js';\nconst { getPaymentMethod } = window.wpsp.paymentForms;\n\n/** @typedef {import('@wpsimplepay/payment-forms').PaymentForm} PaymentForm */\n\n/**\n * Sets up the ACH Direct Debit bank account link.\n * Because this is a two step process an additional setup function is needed, and called manually.\n *\n * @param {PaymentForm} paymentForm Payment form.\n * @return {void}\n */\nfunction setupAchDirectDebit( paymentForm ) {\n\tconst achDebitEl = paymentForm[ 0 ].querySelector(\n\t\t'.simpay-ach-debit-wrap'\n\t);\n\n\tif ( ! achDebitEl ) {\n\t\treturn;\n\t}\n\n\tconst submitEl = achDebitEl.querySelector( 'button' );\n\n\tif ( ! submitEl ) {\n\t\treturn;\n\t}\n\n\tconst {\n\t\terror: onError,\n\t\tdisable: disableForm,\n\t\tenable: enableForm,\n\t\tstate,\n\t\tsetState,\n\t\tstripeInstance: stripe,\n\t} = paymentForm;\n\n\tconst { customerId } = state;\n\n\tconst {\n\t\tcustomer_setupintent_nonce: customerNonce,\n\t} = simpayUpdatePaymentMethod;\n\n\t/**\n\t * \"Select Bank\" button click handler.\n\t *\n\t * @param {Object} e Click event.\n\t */\n\tsubmitEl.addEventListener( 'click', async ( e ) => {\n\t\te.preventDefault();\n\n\t\tdisableForm();\n\n\t\t// Create a SetupIntent for the Payment Method.\n\t\tconst { client_secret: clientSecret } = await setupintents\n\t\t\t.create(\n\t\t\t\t{\n\t\t\t\t\tcustomer_id: customerId,\n\t\t\t\t\tcustomer_nonce: customerNonce,\n\t\t\t\t\tpayment_method_types: [ 'us_bank_account' ],\n\t\t\t\t},\n\t\t\t\tpaymentForm\n\t\t\t)\n\t\t\t.catch( ( error ) => onError( error ) );\n\n\t\tconst { name, email } = getOwnerData( paymentForm );\n\n\t\t// Collect bank account information.\n\t\tconst { setupIntent, error } = await stripe.collectBankAccountForSetup(\n\t\t\t{\n\t\t\t\tclientSecret,\n\t\t\t\tparams: {\n\t\t\t\t\tpayment_method_type: 'us_bank_account',\n\t\t\t\t\tpayment_method_data: {\n\t\t\t\t\t\tbilling_details: {\n\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\temail,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\n\t\tif ( error ) {\n\t\t\tthrow error;\n\t\t}\n\n\t\t// Customer canceled the hosted verification modal.\n\t\tif ( setupIntent.status === 'requires_payment_method' ) {\n\t\t\treturn enableForm();\n\t\t}\n\n\t\t// Confirm mandates.\n\t\tif ( setupIntent.status === 'requires_confirmation' ) {\n\t\t\tsetState( {\n\t\t\t\tpaymentMethodId: setupIntent.payment_method,\n\t\t\t} );\n\n\t\t\tenableForm();\n\n\t\t\t// Hide button.\n\t\t\tpaymentForm[ 0 ].querySelector(\n\t\t\t\t'.simpay-ach-debit-wrap button'\n\t\t\t).style.display = 'none';\n\n\t\t\t// Show terms.\n\t\t\tpaymentForm[ 0 ].querySelector(\n\t\t\t\t'#simpay-ach-debit-terms'\n\t\t\t).style.display = 'block';\n\n\t\t\tpaymentForm[ 0 ].querySelector(\n\t\t\t\t'#simpay-ach-debit-terms-recurring'\n\t\t\t).style.display = 'block';\n\n\t\t\t// Show checkout button.\n\t\t\tpaymentForm[ 0 ].querySelector(\n\t\t\t\t'.simpay-checkout-btn-container'\n\t\t\t).style.display = 'block';\n\t\t}\n\t} );\n}\n\nconst createPaymentMethod = {\n\t/**\n\t * Creates a Card Payment Method.\n\t *\n\t * @param {Object} paymentForm\n\t */\n\tcard( paymentForm ) {\n\t\tconst {\n\t\t\tstripeInstance: stripe,\n\t\t\tstripeInstance: { elements },\n\t\t} = paymentForm;\n\n\t\treturn stripe\n\t\t\t.createPaymentMethod( {\n\t\t\t\ttype: 'card',\n\t\t\t\tcard: elements.card,\n\t\t\t\tbilling_details: getOwnerData( paymentForm ),\n\t\t\t} )\n\t\t\t.then( ( result ) => {\n\t\t\t\tif ( result.error ) {\n\t\t\t\t\tthrow result.error;\n\t\t\t\t}\n\n\t\t\t\treturn result.paymentMethod;\n\t\t\t} );\n\t},\n\t/**\n\t * Creates a ACH Direct Debit Payment Method.\n\t *\n\t * @param {Object} paymentForm\n\t */\n\tasync 'ach-debit'( paymentForm ) {\n\t\tconst { state } = paymentForm;\n\t\tconst { paymentMethodId } = state;\n\n\t\treturn {\n\t\t\tid: paymentMethodId,\n\t\t};\n\t},\n\t/**\n\t * Creates a SEPA Direct Debit Payment Method.\n\t *\n\t * @param {Object} paymentForm\n\t */\n\tasync 'sepa-debit'( paymentForm ) {\n\t\tconst {\n\t\t\tstate,\n\t\t\tstripeInstance: stripe,\n\t\t\tstripeInstance: { elements },\n\t\t} = paymentForm;\n\n\t\tconst {\n\t\t\tcustomer_setupintent_nonce: customerNonce,\n\t\t} = simpayUpdatePaymentMethod;\n\n\t\tconst { customerId } = state;\n\n\t\t// Create a SetupIntent for the Payment Method.\n\t\tconst { client_secret: clientSecret } = await setupintents.create(\n\t\t\t{\n\t\t\t\tcustomer_id: customerId,\n\t\t\t\tcustomer_nonce: customerNonce,\n\t\t\t\tpayment_method_types: [ 'sepa_debit' ],\n\t\t\t},\n\t\t\tpaymentForm\n\t\t);\n\n\t\t// Confirm the Payment Method's information against the SetupIntent.\n\t\tconst { error, setupIntent } = await stripe.confirmSepaDebitSetup(\n\t\t\tclientSecret,\n\t\t\t{\n\t\t\t\tpayment_method: {\n\t\t\t\t\tsepa_debit: elements.sepaDebit,\n\t\t\t\t\tbilling_details: getOwnerData( paymentForm ),\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\n\t\tif ( error ) {\n\t\t\tthrow error;\n\t\t}\n\n\t\treturn {\n\t\t\tid: setupIntent.payment_method,\n\t\t};\n\t},\n};\n\n/**\n * Setup \"Update Payment Method\" form.\n */\nfunction setup() {\n\tconst formEl = document.getElementById(\n\t\t'simpay-form-update-payment-method'\n\t);\n\n\tif ( ! formEl ) {\n\t\treturn;\n\t}\n\n\tconst {\n\t\tid,\n\t\tcustomer_id: customerId,\n\t\tcustomer_nonce: customerNonce,\n\t\tsubscription_id: subscriptionId,\n\t\tsubscription_key: subscriptionKey,\n\t\tnonce: updateNonce,\n\t\ti18n,\n\t} = simpayUpdatePaymentMethod;\n\n\t// Mock legacy script variables and form data...\n\tconst {\n\t\t[ id ]: {\n\t\t\tform: { config, bools, strings, i18n: formI18n },\n\t\t\tstripe,\n\t\t},\n\t} = window.simplePayForms;\n\n\tconst { paymentMethods } = config;\n\n\tconst __unstableLegacyFormData = {\n\t\tformDisplayType: 'embedded',\n\t\tcheckoutButtonLoadingText: i18n.loading,\n\t\tcheckoutButtonText: i18n.submit,\n\t\tstripeParams: {\n\t\t\tkey: stripe.strings.key,\n\t\t},\n\t\tformId: id,\n\t\tisTestMode: bools.isTestMode,\n\t\tcompanyName: strings.companyName,\n\t\tstripeErrorMessages: formI18n.stripeErrorMessages,\n\t};\n\n\t// Mock a Payment Form.\n\tconst paymentForm = jQuery.extend( jQuery( formEl ), {\n\t\tid,\n\t\t__unstableLegacyFormData,\n\t\tstate: {\n\t\t\tpaymentMethods,\n\t\t\tpaymentMethod: _.first( paymentMethods ),\n\t\t\tcustomerId,\n\t\t},\n\t\tstripeInstance: Stripe( stripe.strings.key ),\n\t\tgetElementStyle,\n\t\tgetOwnerData,\n\t} );\n\n\tpaymentForm.setState = function ( updatedState ) {\n\t\tpaymentForm.state = {\n\t\t\t...paymentForm.state,\n\t\t\t...updatedState,\n\t\t};\n\t};\n\n\tpaymentForm.enable = function () {\n\t\tpaymentForm\n\t\t\t.removeClass( 'simpay-checkout-form--loading' )\n\t\t\t.find( '.simpay-checkout-btn' )\n\t\t\t.prop( 'disabled', false )\n\t\t\t.removeClass( 'simpay-disabled' )\n\t\t\t.text( i18n.submit );\n\t};\n\n\tpaymentForm.disable = _.bind( onBaseDisable, paymentForm, paymentForm );\n\tpaymentForm.error = _.bind( onBaseError, paymentForm, paymentForm );\n\n\t// Setup the form's Payment Methods.\n\tpaymentMethods.forEach( ( { id: paymentMethodId } ) => {\n\t\t// Call the setup method.\n\t\tgetPaymentMethod( paymentMethodId ).setup( paymentForm, true );\n\n\t\t// Add special setup for ACH Direct Debit.\n\t\tif ( 'ach-debit' === paymentMethodId ) {\n\t\t\tsetupAchDirectDebit( paymentForm );\n\t\t}\n\n\t\t// Bind UI toggles to update the internal state.\n\t\tconst paymentMethodToggleEl = paymentForm[ 0 ].querySelector(\n\t\t\t`.simpay-payment-method-toggle[data-payment-method=\"${ paymentMethodId }\"]`\n\t\t);\n\n\t\tif ( ! paymentMethodToggleEl ) {\n\t\t\treturn;\n\t\t}\n\n\t\tpaymentMethodToggleEl.addEventListener( 'click', () => {\n\t\t\tpaymentForm.setState( {\n\t\t\t\tpaymentMethod: _.findWhere( paymentMethods, {\n\t\t\t\t\tid: paymentMethodId,\n\t\t\t\t} ),\n\t\t\t} );\n\t\t} );\n\t} );\n\n\t// Attach submission handler.\n\tformEl.addEventListener( 'submit', async ( e ) => {\n\t\te.preventDefault();\n\n\t\tconst { error: onError, disable: disableForm, state } = paymentForm;\n\t\tconst { paymentMethod: selectedPaymentMethod } = state;\n\n\t\tdisableForm();\n\n\t\tconst paymentMethod = await createPaymentMethod[\n\t\t\tselectedPaymentMethod.id\n\t\t]( paymentForm ).catch( onError );\n\n\t\tif ( ! paymentMethod ) {\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tawait subscriptions\n\t\t\t\t.updatePaymentMethod(\n\t\t\t\t\tcustomerId,\n\t\t\t\t\tcustomerNonce,\n\t\t\t\t\tsubscriptionId,\n\t\t\t\t\tid,\n\t\t\t\t\t{\n\t\t\t\t\t\tpayment_method_id: paymentMethod.id,\n\t\t\t\t\t\t_wpnonce: updateNonce,\n\t\t\t\t\t\tsubscription_key: subscriptionKey,\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\t.catch( ( updateError ) => {\n\t\t\t\t\tthrow updateError;\n\t\t\t\t} );\n\n\t\t\twindow.location.replace( window.location.href );\n\t\t} catch ( _updateError ) {\n\t\t\tonError( _updateError );\n\t\t}\n\t} );\n}\n\n// DOM Ready.\ndomReady( setup );\n","module.exports = jQuery;"],"sourceRoot":""}